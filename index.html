<!DOCTYPE html>
<html>
<head>
<title>FORGOTTEN WISDOM - MULTI-AI TRANSLATOR</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>
// ========== CONFIGURATION ==========
const CONFIG = {
  // Set your API keys here (get free keys from links below)
  API_KEYS: {
    openai: '',     // Get from: https://platform.openai.com/api-keys
    anthropic: '',  // Get from: https://console.anthropic.com/settings/keys
    google: '',     // Get from: https://makersuite.google.com/app/apikey
    groq: ''        // Get from: https://console.groq.com/keys
  },
  
  // Default AI provider (change this)
  DEFAULT_AI: 'simulated',
  
  // Free tier limits
  FREE_TIER_LIMIT: 10,  // Max translations per session
  translationsCount: 0,
  
  // Cache responses to save API calls
  useCache: true,
  cache: {}
};

// ========== UNTRANSLATED BOOKS DATABASE ==========
const UNTRANSLATED_BOOKS = [
  {
    id: 'etruscan_linen',
    title: 'Liber Linteus Zagrabiensis',
    language: 'Etruscan',
    year: '3rd-1st century BCE',
    location: 'Egypt (Zagreb)',
    description: 'The longest Etruscan text, written on linen wrappings of a mummy.',
    sample_text: '...cea...sren...tva...hel...rasce...',
    difficulty: 'High',
    progress: '5% translated'
  },
  {
    id: 'rongorongo_b',
    title: 'Rongorongo Tablet B',
    language: 'Rongorongo',
    year: 'Unknown, pre-1860',
    location: 'Easter Island',
    description: 'Wooden tablet with undeciphered glyphs, one of only 25 surviving.',
    sample_text: 'Bird-man glyphs, crescent shapes, fish hooks',
    difficulty: 'Very High',
    progress: '0% translated'
  },
  {
    id: 'voynich_herbal',
    title: 'Voynich Manuscript Folio 25v',
    language: 'Unknown (Voynichese)',
    year: '1404-1438 CE',
    location: 'Unknown (likely Central Europe)',
    description: 'Illustrated herbal section with unknown plants and script.',
    sample_text: 'qokedy qokedy dal qokedy qokedy...',
    difficulty: 'Extreme',
    progress: '0% translated'
  },
  {
    id: 'linear_a_ht13',
    title: 'Linear A Tablet HT 13',
    language: 'Linear A',
    year: '1800-1450 BCE',
    location: 'Crete, Greece',
    description: 'Minoan administrative tablet, undeciphered script.',
    sample_text: 'a-ta-i-*301-wa-ja / ko-no-so / pa-i-to...',
    difficulty: 'High',
    progress: '30% guessed'
  },
  {
    id: 'meroitic_inscription',
    title: 'Meroitic Funerary Inscription',
    language: 'Meroitic',
    year: '300 BCE - 350 CE',
    location: 'Sudan',
    description: 'Nubian kingdom script, partially deciphered.',
    sample_text: 'qore piye / wodne / ato...',
    difficulty: 'Medium',
    progress: '70% translated'
  },
  {
    id: 'indus_valley',
    title: 'Indus Valley Seal 4201',
    language: 'Indus Script',
    year: '2600-1900 BCE',
    location: 'Pakistan/India',
    description: 'Steatite seal with undeciphered pictograms.',
    sample_text: 'Fish + Man + Comb symbols',
    difficulty: 'Very High',
    progress: '0% translated'
  },
  {
    id: 'phrygian_inscription',
    title: 'Phrygian Neo-Punic Text',
    language: 'Phrygian',
    year: '800-600 BCE',
    location: 'Turkey',
    description: 'Bilingual inscription with unknown Phrygian text.',
    sample_text: 'Ates... Arkiyasen...',
    difficulty: 'Medium',
    progress: '40% translated'
  }
];

// ========== AI PROVIDERS INFO ==========
const AI_PROVIDERS = {
  simulated: {
    name: 'Simulated AI',
    free: true,
    cost: 'Free',
    speed: 'Instant',
    description: 'Local simulation - no API needed'
  },
  openai: {
    name: 'GPT-4',
    free: false,
    cost: '$0.03/translation',
    speed: 'Fast',
    description: 'OpenAI\'s most capable model'
  },
  anthropic: {
    name: 'Claude 3',
    free: true, // Has free tier
    cost: 'Free tier available',
    speed: 'Fast',
    description: 'Anthropic\'s conversational AI'
  },
  google: {
    name: 'Gemini Pro',
    free: true, // Has free tier
    cost: 'Free tier available',
    speed: 'Very Fast',
    description: 'Google\'s latest AI model'
  },
  groq: {
    name: 'Llama 3 (via Groq)',
    free: true, // Has free tier
    cost: 'Free tier available',
    speed: 'Extremely Fast',
    description: 'Open-source model, fastest inference'
  }
};

// ========== STYLES ==========
const styles = [
  `body { background: #0a0a2a; color: #e0e0ff; font-family: 'Courier New', monospace; }
   h1 { color: #00ffff; text-align: center; font-size: 2.8em; text-shadow: 0 0 15px #00ffff; }
   .ai-selector { background: #111133; padding: 20px; margin: 20px auto; border: 2px solid #00aaff; max-width: 800px; }
   .provider-btn { background: #222244; color: white; border: 2px solid #444477; padding: 10px 20px; margin: 5px; cursor: pointer; }
   .provider-btn.selected { background: #0055aa; border-color: #00ffff; box-shadow: 0 0 10px #00aaff; }
   .provider-btn.free { border-color: #00cc00; }
   .status { background: #000022; color: #00ff00; padding: 15px; border: 1px solid #00aa00; font-family: monospace; }
   .quip-container { background: #001122; color: #aaffff; padding: 30px; border: 3px solid #0088ff; margin: 20px; }
   .quip { font-size: 1.8em; font-weight: bold; text-align: center; margin: 20px 0; }
   .book-info { background: #112233; color: #bbddff; padding: 15px; margin: 15px 0; border-left: 5px solid #ffaa00; }
   .ai-badge { background: #002200; color: #00ff00; padding: 5px 15px; border: 1px solid #00ff00; display: inline-block; margin: 10px; }
   .counter { color: #ff9900; font-weight: bold; }
   marquee { background: #000; color: #0f0; padding: 5px; border: 1px solid #0f0; }`,
   
  `body { background: #000; color: #0f0; font-family: monospace; }
   h1 { color: #0f0; text-align: center; font-size: 2.5em; }
   .ai-selector { background: #001100; padding: 15px; margin: 15px; border: 1px solid #0f0; }
   .provider-btn { background: #002200; color: #0f0; border: 1px solid #0a0; padding: 8px 15px; margin: 3px; cursor: pointer; }
   .provider-btn.selected { background: #004400; border-color: #0f0; }
   .status { background: #000; color: #0f0; padding: 10px; border: 1px solid #0f0; }
   .quip-container { background: #001100; color: #0f0; padding: 20px; border: 2px solid #0f0; margin: 15px; }
   .quip { font-size: 1.6em; text-align: center; }
   .book-info { background: #000; color: #0a0; padding: 10px; margin: 10px 0; border: 1px dashed #0a0; }
   .ai-badge { background: #000; color: #0f0; padding: 3px 10px; border: 1px solid #0f0; }
   .counter { color: #ff0; }`
];

// ========== MAIN FUNCTIONS ==========
let selectedBook = null;
let selectedAI = CONFIG.DEFAULT_AI;

window.onload = function() {
  const style = styles[Math.floor(Math.random() * styles.length)];
  document.getElementById('dynamicStyle').innerHTML = style;
  
  updateTranslationCounter();
  renderAIProviders();
  selectAIProvider(CONFIG.DEFAULT_AI);
  
  // Check if API keys are set
  checkAPIKeys();
};

function renderAIProviders() {
  const container = document.getElementById('aiProviders');
  container.innerHTML = '';
  
  Object.entries(AI_PROVIDERS).forEach(([id, provider]) => {
    const btn = document.createElement('button');
    btn.className = `provider-btn ${provider.free ? 'free' : ''}`;
    btn.innerHTML = `
      <strong>${provider.name}</strong><br>
      <small>${provider.description}</small><br>
      <small>${provider.cost} ‚Ä¢ ${provider.speed}</small>
    `;
    btn.onclick = () => selectAIProvider(id);
    container.appendChild(btn);
  });
}

function selectAIProvider(providerId) {
  selectedAI = providerId;
  
  // Update UI
  document.querySelectorAll('.provider-btn').forEach(btn => {
    btn.classList.remove('selected');
  });
  event.target.classList.add('selected');
  
  // Update status
  document.getElementById('aiStatus').innerHTML = `
    SELECTED AI: <strong>${AI_PROVIDERS[providerId].name}</strong>
    ${AI_PROVIDERS[providerId].free ? 'üÜì FREE TIER' : 'üí≥ PAID'}
  `;
  
  // Save preference
  localStorage.setItem('preferredAI', providerId);
}

function startTranslation() {
  if (CONFIG.translationsCount >= CONFIG.FREE_TIER_LIMIT && selectedAI !== 'simulated') {
    alert(`Free tier limit reached (${CONFIG.FREE_TIER_LIMIT} translations).\n\nSwitch to 'Simulated AI' or consider using API keys.`);
    return;
  }
  
  // Select random book
  selectedBook = UNTRANSLATED_BOOKS[Math.floor(Math.random() * UNTRANSLATED_BOOKS.length)];
  
  // Display book info
  document.getElementById('bookInfo').innerHTML = `
    <div class="book-info">
      <strong>üìú SELECTED TEXT:</strong> ${selectedBook.title}<br>
      <strong>üó£Ô∏è LANGUAGE:</strong> ${selectedBook.language} (${selectedBook.difficulty})<br>
      <strong>üìç ORIGIN:</strong> ${selectedBook.location} ‚Ä¢ ${selectedBook.year}<br>
      <strong>üìä PROGRESS:</strong> ${selectedBook.progress}<br>
      <strong>üî§ SAMPLE TEXT:</strong> <code>${selectedBook.sample_text}</code><br>
      <strong>üìù DESCRIPTION:</strong> ${selectedBook.description}
    </div>
  `;
  
  // Start processing
  document.getElementById('processing').style.display = 'block';
  document.getElementById('result').style.display = 'none';
  document.getElementById('processingSteps').innerHTML = '';
  
  // Check cache first
  const cacheKey = `${selectedBook.id}_${selectedAI}`;
  if (CONFIG.useCache && CONFIG.cache[cacheKey]) {
    displayResult(CONFIG.cache[cacheKey]);
    return;
  }
  
  // Process with selected AI
  processWithAI();
}

async function processWithAI() {
  const stepsElement = document.getElementById('processingSteps');
  
  const steps = [
    `Initializing ${AI_PROVIDERS[selectedAI].name}...`,
    `Analyzing ${selectedBook.language} patterns...`,
    `Contextualizing ${selectedBook.year} historical period...`,
    `Cross-referencing linguistic databases...`,
    `Generating translation hypotheses...`,
    `Extracting wisdom nugget...`,
    `Formulating modern interpretation...`
  ];
  
  for (let i = 0; i < steps.length; i++) {
    await showStep(steps[i], stepsElement, 600);
  }
  
  // Call the appropriate AI
  try {
    let result;
    
    if (selectedAI === 'simulated') {
      result = await simulateAIResponse();
    } else {
      await showStep(`Calling ${selectedAI.toUpperCase()} API...`, stepsElement, 500);
      result = await callRealAI();
    }
    
    // Cache the result
    const cacheKey = `${selectedBook.id}_${selectedAI}`;
    CONFIG.cache[cacheKey] = result;
    
    // Update counter
    CONFIG.translationsCount++;
    localStorage.setItem('translationCount', CONFIG.translationsCount);
    updateTranslationCounter();
    
    displayResult(result);
    
  } catch (error) {
    await showStep(`‚ùå ERROR: ${error.message}`, stepsElement, 500);
    await showStep('Falling back to simulated AI...', stepsElement, 500);
    
    // Fallback to simulated
    const result = await simulateAIResponse();
    displayResult(result);
  }
}

// ========== REAL AI API CALLS ==========
async function callRealAI() {
  // Check if API key is available
  if (!CONFIG.API_KEYS[selectedAI] && selectedAI !== 'simulated') {
    throw new Error(`No API key for ${selectedAI}. Using simulated response.`);
  }
  
  const prompt = createAIPrompt();
  
  // Note: For security, these API calls should be done through a backend proxy
  // This frontend code is for demonstration only
  
  switch(selectedAI) {
    case 'openai':
      return await callOpenAI(prompt);
    case 'anthropic':
      return await callAnthropic(prompt);
    case 'google':
      return await callGoogleAI(prompt);
    case 'groq':
      return await callGroq(prompt);
    default:
      return await simulateAIResponse();
  }
}

function createAIPrompt() {
  return `You are an expert historical linguist and philosopher. Analyze this untranslated ancient text and provide:

1. BRIEF TRANSLATION (2-3 sentences): Provide a likely translation or interpretation
2. WISDOM QUIP (1 sentence): Extract one profound, universal wisdom statement
3. MODERN INSIGHT (1-2 sentences): Connect to modern life or science

TEXT: ${selectedBook.title}
LANGUAGE: ${selectedBook.language} (${selectedBook.difficulty} to translate)
TIME PERIOD: ${selectedBook.year}
LOCATION: ${selectedBook.location}
CONTEXT: ${selectedBook.description}
SAMPLE TEXT: "${selectedBook.sample_text}"

Format your response EXACTLY like this:
TRANSLATION: [your translation here]
QUIP: [your wisdom quip here]
INSIGHT: [your modern insight here]

Make the wisdom quip profound but accessible, like something from ancient philosophy that still applies today.`;
}

// ========== SIMULATED API RESPONSES (for testing) ==========
async function simulateAIResponse() {
  // Simulate API delay
  await new Promise(resolve => setTimeout(resolve, 1500));
  
  const responses = {
    'etruscan_linen': {
      translation: "This funerary text describes rituals for the soul's journey to the afterlife, with repeated invocations to deities for safe passage.",
      quip: "The Zagreb mummy whispers: What we wrap the dead in says more about life than death.",
      insight: "Modern grief psychology confirms: Rituals aren't for the departed, but for the living to process loss."
    },
    'rongorongo_b': {
      translation: "The glyphs likely record ancestral lineages and astronomical events important to Easter Island's civilization.",
      quip: "Rapa Nui wisdom: A society that forgets how to read its own history is already carving its own moai of oblivion.",
      insight: "Digital age parallel: We're creating unreadable data formats at an unprecedented scale."
    },
    'voynich_herbal': {
      translation: "This section depicts medicinal plants with annotations about their healing properties in an unknown script.",
      quip: "The Voynich secret: Some knowledge must remain encrypted to retain its transformative power.",
      insight: "Like placebo effects, sometimes the mystery is part of the medicine."
    },
    'linear_a_ht13': {
      translation: "Administrative record of grain storage or trade, showing early bureaucratic systems in Minoan civilization.",
      quip: "Knossos ledger reveals: The first written words weren't poetry, but receipts - beauty emerged from necessity.",
      insight: "All creative expression grows from practical foundations."
    }
  };
  
  return responses[selectedBook.id] || {
    translation: "AI analysis suggests this text contains cultural and philosophical insights about human existence.",
    quip: "Ancient voices remind us: Every forgotten language contains wisdom waiting for its moment of rediscovery.",
    insight: "In the AI age, we're creating tools that might one day translate thoughts directly, skipping language entirely."
  };
}

// ========== DISPLAY FUNCTIONS ==========
function displayResult(result) {
  document.getElementById('processing').style.display = 'none';
  document.getElementById('result').style.display = 'block';
  
  document.getElementById('quipText').textContent = result.quip;
  document.getElementById('translationText').textContent = result.translation;
  document.getElementById('insightText').textContent = result.insight;
  document.getElementById('aiUsed').textContent = AI_PROVIDERS[selectedAI].name;
  
  // Store for backend view
  document.getElementById('backendData').textContent = JSON.stringify({
    book: selectedBook,
    ai_provider: selectedAI,
    ai_name: AI_PROVIDERS[selectedAI].name,
    timestamp: new Date().toISOString(),
    translation: result.translation,
    quip: result.quip,
    insight: result.insight,
    cache_key: `${selectedBook.id}_${selectedAI}`
  }, null, 2);
  
  document.getElementById('backendLink').style.display = 'block';
}

// ========== HELPER FUNCTIONS ==========
async function showStep(text, container, delay) {
  return new Promise(resolve => {
    setTimeout(() => {
      const stepElement = document.createElement('div');
      stepElement.className = 'working';
      stepElement.innerHTML = `&gt; ${text}`;
      container.appendChild(stepElement);
      container.scrollTop = container.scrollHeight;
      resolve();
    }, delay);
  });
}

function updateTranslationCounter() {
  const savedCount = localStorage.getItem('translationCount');
  if (savedCount) {
    CONFIG.translationsCount = parseInt(savedCount);
  }
  document.getElementById('translationCounter').textContent = 
    `Translations this session: ${CONFIG.translationsCount}/${CONFIG.FREE_TIER_LIMIT}`;
}

function checkAPIKeys() {
  const missingKeys = Object.entries(CONFIG.API_KEYS)
    .filter(([provider, key]) => !key && provider !== 'simulated')
    .map(([provider]) => provider);
    
  if (missingKeys.length > 0) {
    document.getElementById('apiWarning').style.display = 'block';
    document.getElementById('missingProviders').textContent = missingKeys.join(', ');
  }
}

// ========== BACKEND VIEW ==========
function showBackend() {
  const data = JSON.parse(document.getElementById('backendData').textContent);
  
  const backendWindow = window.open('', 'BackendData', 'width=1000,height=800,scrollbars=yes');
  
  backendWindow.document.write(`
    <html>
    <head>
      <title>AI TRANSLATION BACKEND - ${data.book.language}</title>
      <style>
        body { background: #0a0a0a; color: #0f0; font-family: monospace; padding: 20px; }
        h1 { color: #0ff; }
        .section { background: #111; padding: 15px; margin: 15px 0; border: 1px solid #333; }
        .label { color: #0ff; }
        .api-box { background: #001122; padding: 15px; border: 1px solid #005588; }
        .code { background: #000; padding: 10px; border: 1px solid #333; font-family: monospace; }
      </style>
    </head>
    <body>
      <h1>üîß MULTI-AI TRANSLATION BACKEND</h1>
      
      <div class="section">
        <div class="label">TRANSLATION DATA:</div>
        <pre>${JSON.stringify(data, null, 2)}</pre>
      </div>
      
      <div class="section api-box">
        <h3>üõ†Ô∏è HOW TO ADD REAL AI APIs:</h3>
        
        <h4>1. Get FREE API Keys:</h4>
        <ul>
          <li><strong>OpenAI:</strong> <a href="https://platform.openai.com/api-keys" target="_blank">platform.openai.com/api-keys</a> (Free credits for new users)</li>
          <li><strong>Anthropic (Claude):</strong> <a href="https://console.anthropic.com/settings/keys" target="_blank">console.anthropic.com</a> (Free tier available)</li>
          <li><strong>Google Gemini:</strong> <a href="https://makersuite.google.com/app/apikey" target="_blank">makersuite.google.com</a> (Free tier)</li>
          <li><strong>Groq (Llama 3):</strong> <a href="https://console.groq.com/keys" target="_blank">console.groq.com</a> (Free tier, very fast)</li>
        </ul>
        
        <h4>2. Add Keys to CONFIG.API_KEYS:</h4>
        <div class="code">
// In the JavaScript code, replace with your keys:<br>
const CONFIG = {<br>
&nbsp;&nbsp;API_KEYS: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;openai: 'sk-your-key-here',<br>
&nbsp;&nbsp;&nbsp;&nbsp;anthropic: 'sk-ant-your-key-here',<br>
&nbsp;&nbsp;&nbsp;&nbsp;google: 'AIza-your-key-here',<br>
&nbsp;&nbsp;&nbsp;&nbsp;groq: 'gsk-your-key-here'<br>
&nbsp;&nbsp;}<br>
};
        </div>
        
        <h4>3. Security Note:</h4>
        <p>For production, use a backend proxy to hide API keys. Example Node.js proxy:</p>
        <div class="code">
// server.js (Node.js/Express proxy)<br>
app.post('/api/translate', async (req, res) => {<br>
&nbsp;&nbsp;const { provider, prompt } = req.body;<br>
&nbsp;&nbsp;// Your server calls the AI API with hidden keys<br>
&nbsp;&nbsp;const result = await callAI(provider, prompt);<br>
&nbsp;&nbsp;res.json(result);<br>
});
        </div>
      </div>
      
      <div class="section">
        <h3>üìä CURRENT STATS:</h3>
        <p>Total Translations: ${CONFIG.translationsCount}</p>
        <p>Cache Size: ${Object.keys(CONFIG.cache).length} entries</p>
        <p>Selected AI: ${data.ai_name}</p>
      </div>
      
      <p><button onclick="window.close()" style="padding: 10px; background: #333; color: white; border: 1px solid #666;">Close</button></p>
    </body>
    </html>
  `);
}

// ========== API CALL TEMPLATES (UNCOMMENT AND ADD KEYS) ==========
/*
async function callOpenAI(prompt) {
  // UNCOMMENT AND ADD YOUR KEY:
  // const apiKey = CONFIG.API_KEYS.openai;
  
  const response = await fetch('https://api.openai.com/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${apiKey}`
    },
    body: JSON.stringify({
      model: 'gpt-3.5-turbo', // Use gpt-4 for better results
      messages: [{ role: 'user', content: prompt }],
      temperature: 0.7,
      max_tokens: 500
    })
  });
  
  const data = await response.json();
  const text = data.choices[0].message.content;
  
  // Parse the response
  return parseAIResponse(text);
}

async function callAnthropic(prompt) {
  // Similar structure for Claude
  // See: https://docs.anthropic.com/claude/reference/messages_post
}

async function callGoogleAI(prompt) {
  // Similar structure for Gemini
  // See: https://ai.google.dev/gemini-api/docs
}

async function callGroq(prompt) {
  // Similar structure for Groq/Llama
  // See: https://console.groq.com/docs/quickstart
}

function parseAIResponse(text) {
  // Parse the formatted response
  const lines = text.split('\n');
  const result = { translation: '', quip: '', insight: '' };
  
  lines.forEach(line => {
    if (line.startsWith('TRANSLATION:')) result.translation = line.replace('TRANSLATION:', '').trim();
    if (line.startsWith('QUIP:')) result.quip = line.replace('QUIP:', '').trim();
    if (line.startsWith('INSIGHT:')) result.insight = line.replace('INSIGHT:', '').trim();
  });
  
  return result;
}
*/
</script>
<style id="dynamicStyle"></style>
</head>
<body>

<center>
  <h1>üîÆ MULTI-AI ANCIENT WISDOM TRANSLATOR</h1>
  <div class="ai-badge" id="aiStatus">SELECT AN AI PROVIDER BELOW</div>
</center>

<marquee>
  ü§ñ CHOOSE YOUR AI ‚Ä¢ FREE TIERS AVAILABLE ‚Ä¢ REAL API INTEGRATION ‚Ä¢ UNTRANSLATED TEXTS DATABASE ‚Ä¢ WISDOM EXTRACTION
</marquee>

<hr>

<!-- AI Provider Selection -->
<div class="ai-selector">
  <h3>ü§ñ SELECT AI TRANSLATOR:</h3>
  <div id="aiProviders"></div>
  <p style="margin-top: 15px; font-size: 0.9em; color: #aaa;">
    üÜì = Free tier available ‚Ä¢ üí≥ = Requires payment
  </p>
</div>

<!-- Start Button -->
<center>
  <button onclick="startTranslation()" style="
    font-size: 1.5em; padding: 20px 40px; margin: 20px;
    background: linear-gradient(45deg, #0066cc, #00ccff);
    border: 4px outset #00aaff; color: white; cursor: pointer;
    font-family: 'Courier New'; font-weight: bold;">
    üöÄ TRANSLATE A LOST TEXT
  </button>
  
  <div class="counter" id="translationCounter">Translations: 0/10</div>
</center>

<hr>

<!-- Book Info -->
<div id="bookInfo"></div>

<!-- Processing Section -->
<div id="processing" style="display: none;">
  <div class="status" id="processingStatus">Preparing AI translation...</div>
  <div id="processingSteps" style="
    height: 250px; overflow-y: auto; background: #000;
    padding: 15px; border: 1px solid #333; margin: 20px 0;
    font-family: monospace; font-size: 0.9em;">
  </div>
</div>

<!-- Result Section -->
<div id="result" style="display: none;">
  <div class="quip-container">
    <div style="text-align: center; margin-bottom: 20px;">
      <span class="ai-badge">AI: <span id="aiUsed">Simulated</span></span>
      <span class="ai-badge">SOURCE: ${selectedBook ? selectedBook.language : 'Unknown'}</span>
    </div>
    
    <div class="quip" id="quipText"></div>
    
    <hr style="border: 1px solid #0088ff; margin: 30px 0;">
    
    <div style="text-align: left;">
      <strong>üìñ AI TRANSLATION:</strong><br>
      <div style="margin: 10px 0 20px 0;" id="translationText"></div>
      
      <strong>üí° MODERN INSIGHT:</strong><br>
      <div style="margin: 10px 0 20px 0;" id="insightText"></div>
    </div>
  </div>
  
  <center>
    <button onclick="startTranslation()" style="
      padding: 15px 30px; margin: 20px;
      background: #222244; border: 2px solid #00aaff;
      color: white; cursor: pointer; font-size: 1.1em;">
      üîÑ TRANSLATE ANOTHER TEXT
    </button>
  </center>
  
  <!-- Backend Data -->
  <div id="backendData" style="display: none;"></div>
  
  <div id="backendLink" style="display: none; text-align: center; margin-top: 30px;">
    <a href="javascript:void(0)" onclick="showBackend()" style="
      color: #00ffff; text-decoration: none; font-family: monospace;
      padding: 10px; border: 1px solid #00ffff; display: inline-block;">
      [VIEW BACKEND & API SETUP INSTRUCTIONS]
    </a>
  </div>
</div>

<hr>

<!-- API Warning -->
<div id="apiWarning" style="
  display: none; background: #330000; color: #ff9999;
  padding: 15px; margin: 20px; border: 2px solid #ff0000;
  text-align: center;">
  ‚ö†Ô∏è <strong>API KEYS NOT SET</strong><br>
  Missing keys for: <span id="missingProviders"></span><br>
  Using simulated mode. Get free API keys from links in backend view.
</div>

<!-- Footer -->
<div style="text-align: center; margin-top: 30px; font-size: 0.9em; color: #888;">
  <p><blink>‚ö†Ô∏è BETA ‚Ä¢ MULTI-AI TRANSLATION ‚Ä¢ FREE TIERS AVAILABLE ‚Ä¢ CACHING ENABLED ‚ö†Ô∏è</blink></p>
  
  <p>
    <img src="https://web.archive.org/web/20091027041310/http://geocities.com/area51/zone/1927/counter.gif" height="30">
    <img src="https://web.archive.org/web/20090829083051/http://geocities.com/Area51/Atlantis/3955/ai.gif" height="40">
    <img src="https://web.archive.org/web/20090829083051/http://geocities.com/SiliconValley/Vista/1296/under_con.gif" height="31">
  </p>
  
  <div style="max-width: 800px; margin: 0 auto; text-align: left; background: #222; padding: 15px; border: 1px solid #444;">
    <strong>NEXT STEPS TO MAKE IT REAL:</strong><br>
    1. Get free API keys from any provider above<br>
    2. Uncomment and fill in the API functions in the code<br>
    3. For security, set up a backend proxy (instructions in backend view)<br>
    4. Start with Groq (free, fast) or Google Gemini (free)<br>
    5. Add more untranslated texts to the database
  </div>
</div>

<script>
// Initialize
updateTranslationCounter();

// Make blink work
const blink = document.querySelector('blink');
if (blink) setInterval(() => {
  blink.style.visibility = blink.style.visibility === 'hidden' ? 'visible' : 'hidden';
}, 500);

// Load saved AI preference
const savedAI = localStorage.getItem('preferredAI');
if (savedAI && AI_PROVIDERS[savedAI]) {
  selectAIProvider(savedAI);
}
</script>

</body>
</html>
